<!-- Maps-->
<script type="text/x-red" data-template-name="maps">
  <div class="form-row">
    <label for="node-input-name"><i class="fa"></i>Name</label>
    <input type="text" id="node-input-name">
  </div>
  <div class="form-row">
    <label for="node-input-path"><i class="fa"></i>Path</label>
    <input type="text" id="node-input-path" placeholder="Map path">
  </div>
  <div class="form-row">
    <label for="node-input-charttitle"><i class="fa"></i>Title</label>
    <input type="text" id="node-input-charttitle" placeholder="Map title">
  </div>          
</script>

<script type="text/x-red" data-help-name="maps">
  <p>Map.</p>
  <p>Inputs</h3>
  <dl class="message-properties">
    <dt>Path<span class="property-type">string</span></dt>
    <dd>This property sets the map path.</dd>
  </dl>
  <dl class="message-properties">
    <dt>Title<span class="property-type">string</span></dt>
    <dd>This property sets the map title.</dd>
  </dl>  
  <h3>Outputs</h3>
  <dl class="message-properties">
     <dt>payload<span class="property-type">object</span></dt>
     <dd>The payload dataset object.</dd>
  </dl>
  <h3>Error</h3>
  <dl class="message-properties">
     <dt>error<span class="property-type">string</span></dt>
     <dd>The error string.</dd>
  </dl>
  <h3>Details</h3>
  <p><code>msg.payload</code> property contains the dataset. The data structure could be:</p>  
  <p><code>[
    {
        "channel": "TEMP",
        "color": "Red",
        "dataset": [
        {
            "channel": "TEMP",
            "dataset": [
                {
                    "lon": -3.703548,
                    "lat": 40.417204,
                    "value": 20.5,
                    "color": "Blue",
                    "description": "Temperature [째C] in Madrid"
                },
                {
                    "lon": -0.075906,
                    "lat": 51.508319,
                    "value": 16,
                    "color": "Yellow",
                    "description": "Temperature [째C] in London"
                },
                {
                    "lon": 2.34294,
                    "lat": 48.859271,
                    "value": 19.7,
                    "color": "Red",
                    "description": "Temperature [째C] in Paris"
                },
                {
                    "lon": 13.402786,
                    "lat": 52.517987,
                    "value": 10.8,
                    "color": "Red",
                    "description": "Temperature [째C] in Berlin"
                }
            ]
        }
    ]    
]</code>
  </p>
</script>

<script type="text/javascript">
    RED.nodes.registerType("maps", {
        category:'Maps',
        defaults: {
            name: {value: ''},
            path: {value: 'maps'},
            maptitle: {value: 'Map title'}            
        },
        outputs: 1,
        inputs: 1,
        label: function() {
            return this.name || "Map";
        },
        color: '#DEBD5C',
        icon: 'map.png'
    });
</script>